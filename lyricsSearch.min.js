function openLyricsSearchWindow(){elid("textInputSection").classList.add("showLyricsSearch"),elid("lyricsSearchResults").textContent=""}function closeLyricsSearchWindow(){elid("textInputSection").classList.remove("showLyricsSearch")}async function lyricsSearch(e){e.preventDefault(),elid("lyricsSearchResults").textContent="searching...";const t=elid("lyricsSearch-artist").value.slice(0,100).trim(),i=elid("lyricsSearch-title").value.slice(0,100).trim();let c="https://lyrist.vercel.app/api/";if(i){c+=encodeURIComponent(i),t&&(c+="/"+encodeURIComponent(t));const e=await fetch(c);if(e){const t=await e.json();if(t.lyrics){let e="";(t.title||t.artist)&&(e="*"+[t.title,t.artist].join(", ")+"*\n\n"),elid("textInput").value=(e+t.lyrics.replaceAll(/\[.*\]\n/g,"")).slice(0,textInputLimit),inputUpdate(),closeLyricsSearchWindow(),elid("textInput").scroll(0,0)}else elid("lyricsSearchResults").textContent="no results found"}else elid("lyricsSearchResults").textContent="no response from server, please try again later"}else elid("lyricsSearchResults").textContent="please provide the title of a song"}elid("activateLyricsSearch").onclick=openLyricsSearchWindow,elid("lyricsSearch").onclick=lyricsSearch,elid("lyricsSearchClose").onclick=closeLyricsSearchWindow;